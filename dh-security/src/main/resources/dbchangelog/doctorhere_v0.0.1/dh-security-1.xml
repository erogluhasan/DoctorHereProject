<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.10.xsd">
    <changeSet author="hakan.gungor" id="dh-security-1-2022-12-04 20:21" context="sql">
        <sql splitStatements="true">
            create table app_user
            (
                id   bigint not null generated by default as identity (start with 1) constraint pk_user  primary key,
                created_by         varchar(255),
                created_date       timestamp,
                last_modified_date timestamp,
                last_modified_by   varchar(255),
                deleted            boolean default false,
                version            numeric default 0 not null,
                username varchar NOT NULL,
                password varchar NOT NULL

           );
            create table user_role
            (
                id   bigint not null generated by default as identity (start with 1) constraint pk_user_role  primary key,
                created_by         varchar(255),
                created_date       timestamp,
                last_modified_date timestamp,
                last_modified_by   varchar(255),
                deleted            boolean default false,
                version            numeric default 0 not null,
                APP_USER_ID bigint,
                ROLE varchar NOT NULL

            );

            insert into app_user(ID, PASSWORD, USERNAME) values(1, '$2a$10$bnC26zz//2cavYoSCrlHdecWF8tkGfPodlHcYwlACBBwJvcEf0p2G', 'dhkullanici@gmail.com');
            insert into user_role(APP_USER_ID, ROLE) values(1, 'ADMIN');
            insert into user_role(APP_USER_ID, ROLE) values(1, 'PREMIUM_MEMBER');
            insert into app_user(ID, PASSWORD, USERNAME) values(2, '$2a$10$bnC26zz//2cavYoSCrlHdecWF8tkGfPodlHcYwlACBBwJvcEf0p2G', 'dhkullanici1@gmail.com');
            insert into user_role(APP_USER_ID, ROLE) values(2, 'ADMIN');
            insert into user_role(APP_USER_ID, ROLE) values(2, 'PREMIUM_MEMBER');


        </sql>
    </changeSet>


</databaseChangeLog>