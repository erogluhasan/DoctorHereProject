<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.10.xsd">
    <changeSet author="hasan.eroglu" id="dh-14-2023-01-03 15:00" context="sql">
        <sql splitStatements="true">

            CREATE TABLE if not exists dh_district (
                id bigint not null generated by default as identity (start with 10000) constraint pk_district  primary key,
                name varchar(150),
                country_id bigint NOT NULL,
                province_id bigint NOT NULL,
                status bool default true,
                code varchar(20)
                );

            ALTER TABLE dh_district ADD CONSTRAINT fk_district_country_id FOREIGN KEY (country_id) REFERENCES dh_country(id);
            ALTER TABLE dh_district ADD CONSTRAINT fk_district_province_id FOREIGN KEY (province_id) REFERENCES dh_province(id);

            comment on column dh_district.name is 'ilce adı';
            comment on column dh_district.country_id is 'ülke id';
            comment on column dh_district.province_id is 'il id';
            comment on column dh_district.code is 'ilce kodu';
            comment on column dh_district.status is 'ilce statusu';
            INSERT INTO dh_district (id, name, country_id, province_id, code, status) VALUES(1, 'Çankaya',1,1,'CAN',true);
            INSERT INTO dh_district (id, name, country_id, province_id, code, status) VALUES(2, 'Yenimahalle',1,1,'YEN',true);
            INSERT INTO dh_district (id, name, country_id, province_id, code, status) VALUES(3, 'İskenderun',1,2,'ISK',true);

        </sql>
    </changeSet>


</databaseChangeLog>